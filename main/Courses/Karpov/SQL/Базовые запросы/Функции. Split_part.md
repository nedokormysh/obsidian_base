# Задача 7.

В SQL, как и во многих других языках, функции можно применять к результату других функций, т.е. последовательно:

SELECT function_one(function_two(a, b), c)

В приведённой выше конструкции `a`, `b`, `c` — аргументы функций. При этом одним из аргументов функции `function_one` является результат выполнения функции `function_two`.

Таким образом, сначала будет выполнена функция `function_two`, а затем её результат будет подан на вход функции `function_one` в качестве одного из аргументов.

Рассмотрим такой случай на примере функций `UPPER` и `LEFT`. Функция `UPPER` приводит поданное ей на вход текстовое значение к верхнему регистру, а функция `LEFT` — возвращает первые n символов в строке:

SELECT UPPER('karpov.courses')

Результат:
KARPOV.COURSES


SELECT LEFT('karpov.courses', 6)

Результат:
karpov

Мы можем применить эти функции последовательно, и в результате получим первые шесть символов верхнего регистра:

SELECT UPPER(LEFT('karpov.courses', 6)) AS new_name

Результат:
KARPOV

В следующей задаче мы будем использовать ещё одну функцию для работы с данными строкового типа — `SPLIT_PART`. Функция `SPLIT_PART` разбивает поданную ей на вход строку на несколько частей в соответствии с указанным разделителем и возвращает одну из частей.

Помимо самой строки (или колонки со значениями строкового типа) функция принимает ещё два аргумента — разделитель и порядковый номер части, которую необходимо вернуть. Посмотрите на следующий пример:

SELECT SPLIT_PART('karpov.courses', '.', 2)

Результат:
courses

## **Задание:**

Примените последовательно функции `UPPER` и `SPLIT_PART` к колонке `name` и преобразуйте наименования товаров в таблице `products` так, чтобы от названий осталось только первое слово, записанное в верхнем регистре. Колонку с новым названием, состоящим из первого слова, назовите `first_word`.

В результат включите исходные наименования товаров, новые наименования из первого слова, а также цену товаров. Результат отсортируйте по возрастанию исходного наименования товара в колонке `name`.

Поля в результирующей таблице: `name`, `first_word`, `price`

SELECT upper (split_part(name, ' ', 1)) as first_word,
       name,
       price
FROM   products
ORDER BY name

[[Функции. Length]]
[[Базовые_запросы_content]]